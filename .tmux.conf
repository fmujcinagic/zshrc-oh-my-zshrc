# Change prefix from C-b to Ctrl-Space
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Enable mouse mode (click to select panes/windows, drag to resize, scroll)
set -g mouse on

# Use vi-style keybindings in copy mode (hjkl navigation, / and ? for search)
set-window-option -g mode-keys vi

# Vim-like selection and copy in copy mode
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi V send-keys -X select-line
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# Optional: Quick way to enter copy mode with Prefix + [
# (Default is Prefix + [, but with vi mode it's very usable)

# Bonus: Make / and ? do incremental search (highlights matches as you type)
bind-key -T copy-mode-vi / command-prompt -i -p "(search down)" "send -X search-forward-incremental \"%%%\""
bind-key -T copy-mode-vi ? command-prompt -i -p "(search up)" "send -X search-backward-incremental \"%%%\""

set -g default-terminal "tmux-256color"

bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Create new window (tab) in the same directory
bind c new-window -c "#{pane_current_path}"

bind-key f copy-mode \; send-keys /

bind-key g run-shell "tmux neww /usr/local/bin/tmux-sessionizer"
